<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi Cuenta</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <header class="top-bar">
      <div class="top-bar-left">
        <button class="burger-button" aria-label="Menú de Categorías">
          <i class="fas fa-bars"></i>
        </button>
        <a href="index.html" class="logo">Mi Tienda</a>
      </div>
      <div class="top-bar-center">
        <div class="search-bar">
          <input type="text" placeholder="Buscar productos..." />
          <button type="submit" aria-label="Buscar">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
      <div class="top-bar-right">
        <a href="cart.html" class="icon-link" aria-label="Carrito de Compras">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count">0</span>
        </a>
        <a href="favorites.html" class="icon-link" aria-label="Favoritos">
          <i class="fas fa-heart"></i>
        </a>
        <a href="my-account.html" class="icon-link" aria-label="Mi Cuenta">
          <i class="fas fa-user-circle"></i>
        </a>
      </div>
    </header>

    <nav class="sidebar-menu">
      <button class="close-sidebar-button"><i class="fas fa-times"></i></button>
      <h3>Categorías</h3>
      <ul>
        <li><a href="#">Electrónica</a></li>
        <li><a href="#">Ropa y Accesorios</a></li>
        <li><a href="#">Hogar y Jardín</a></li>
        <li><a href="#">Libros</a></li>
        <li><a href="#">Deportes</a></li>
        <li><a href="#">Juguetes</a></li>
      </ul>
    </nav>

    <main class="main-content">
      <div class="account-container">
        <aside class="account-sidebar">
          <ul class="account-menu">
            <li>
              <a href="#profile" id="profile-link" class="active"
                ><i class="fas fa-user"></i> Mi Perfil</a
              >
            </li>
            <li>
              <a href="#orders" id="orders-link"
                ><i class="fas fa-box"></i> Mis Pedidos</a
              >
            </li>
            <li>
              <a href="#addresses" id="addresses-link"
                ><i class="fas fa-map-marker-alt"></i> Mis Direcciones</a
              >
            </li>
            <li>
              <a href="#favorites" id="favorites-link"
                ><i class="fas fa-heart"></i> Mis Favoritos</a
              >
            </li>
            <li>
              <a href="#payments" id="payments-link"
                ><i class="fas fa-credit-card"></i> Métodos de Pago</a
              >
            </li>
            <li>
              <a href="login.html"
                ><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a
              >
            </li>
          </ul>
        </aside>
        <section class="account-content">
          <div id="profile" class="account-section active-section">
            <h3>Mi Perfil</h3>
            <form>
              <div class="input-group">
                <label for="acc-name">Nombre(s):</label>
                <input type="text" id="acc-name" value="Juan" />
              </div>
              <div class="input-group">
                <label for="acc-lastname">Apellidos:</label>
                <input type="text" id="acc-lastname" value="Pérez García" />
              </div>
              <div class="input-group">
                <label for="acc-email">Correo Electrónico:</label>
                <input
                  type="email"
                  id="acc-email"
                  value="juan.perez@ejemplo.com"
                />
              </div>
              <div class="input-group">
                <label for="acc-whatsapp">WhatsApp:</label>
                <input type="text" id="acc-whatsapp" value="+52 123 456 7890" />
              </div>
              <button type="submit" class="btn-primary">Guardar Cambios</button>
            </form>
          </div>

          <div id="orders" class="account-section">
            <h3>Mis Pedidos</h3>
            <div class="order-item">
              <h4>Pedido #12345 - 2024-05-20</h4>
              <p>Total: $550.00</p>
              <p>Estado: **Enviado**</p>
              <p><a href="#">Ver Detalles del Pedido</a></p>
            </div>
            <div class="order-item">
              <h4>Pedido #12344 - 2024-05-15</h4>
              <p>Total: $120.50</p>
              <p>Estado: **Entregado**</p>
              <p><a href="#">Ver Detalles del Pedido</a></p>
            </div>
          </div>

          <div id="addresses" class="account-section">
            <h3>Mis Direcciones</h3>
            <div class="address-item">
              <p><strong>Dirección Principal:</strong></p>
              <p>Calle Falsa 123, Colonia Centro</p>
              <p>Ciudad de México, CP 01234</p>
              <div class="address-actions">
                <button>Editar</button>
                <button>Eliminar</button>
              </div>
            </div>
            <button class="btn-primary">Agregar Nueva Dirección</button>
          </div>

          <div id="favorites" class="account-section">
            <h3>Mis Favoritos</h3>
            <div class="product-grid">
              <div class="product-card">
                <img
                  src="https://via.placeholder.com/250x200?text=Favorito+1"
                  alt="Laptop Ultrabook"
                />
                <i class="fas fa-heart favorite-icon active"></i>
                <div class="product-card-info">
                  <h3>Laptop Ultrabook</h3>
                  <p class="price">$1200.00</p>
                  <button class="add-to-cart-btn">
                    <i class="fas fa-shopping-cart"></i> Agregar
                  </button>
                </div>
              </div>
              <div class="product-card">
                <img
                  src="https://via.placeholder.com/250x200?text=Favorito+2"
                  alt="Auriculares Bluetooth"
                />
                <i class="fas fa-heart favorite-icon active"></i>
                <div class="product-card-info">
                  <h3>Auriculares Bluetooth</h3>
                  <p class="price">$75.00</p>
                  <button class="add-to-cart-btn">
                    <i class="fas fa-shopping-cart"></i> Agregar
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div id="payments" class="account-section">
            <h3>Métodos de Pago</h3>
            <p>
              Aquí se mostrarán tus métodos de pago guardados (ej. tarjetas de
              crédito/débito).
            </p>
            <p>Actualmente no hay métodos de pago registrados.</p>
            <button class="btn-primary">Agregar Método de Pago</button>
          </div>
        </section>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const menuLinks = document.querySelectorAll(".account-menu a");
        const sections = document.querySelectorAll(".account-section");

        // Función para activar una sección
        function activateSection(sectionId) {
          // Remover 'active' de todos los enlaces y ocultar todas las secciones
          menuLinks.forEach((link) => link.classList.remove("active"));
          sections.forEach((s) => s.classList.remove("active-section"));
          s.style.display = "none"; // Asegurarse de que esté oculto

          // Añadir 'active' al enlace correspondiente y mostrar la sección
          const targetLink = document.querySelector(
            `.account-menu a[href="#${sectionId}"]`
          );
          if (targetLink) {
            targetLink.classList.add("active");
          }
          const targetSection = document.getElementById(sectionId);
          if (targetSection) {
            targetSection.classList.add("active-section");
            targetSection.style.display = "block"; // Mostrar la sección
          }
        }

        // Manejar clics en el menú
        menuLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            if (this.href.includes("#")) {
              // Solo para enlaces internos de la página
              e.preventDefault(); // Evitar recarga de página
              const sectionId = this.getAttribute("href").substring(1); // Obtener el ID de la sección
              activateSection(sectionId);
            }
          });
        });

        // Activar la sección inicial (por ejemplo, el perfil) al cargar la página
        // También se puede activar una sección específica si la URL tiene un hash (ej. my-account.html#orders)
        const initialSection = window.location.hash
          ? window.location.hash.substring(1)
          : "profile";
        activateSection(initialSection);

        // Script para el menú hamburguesa
        document
          .querySelector(".burger-button")
          .addEventListener("click", function () {
            document.querySelector(".sidebar-menu").classList.add("active");
          });
        document
          .querySelector(".close-sidebar-button")
          .addEventListener("click", function () {
            document.querySelector(".sidebar-menu").classList.remove("active");
          });

        // Lógica para toggle de favoritos en las cards (dentro de Mis Favoritos)
        document
          .querySelectorAll("#favorites .favorite-icon")
          .forEach((icon) => {
            icon.addEventListener("click", function () {
              this.classList.toggle("active");
              // Aquí puedes añadir la lógica para guardar/eliminar de favoritos
            });
          });
      });
    </script>
  </body>
</html>
